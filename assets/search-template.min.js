hsjs.ella_search={closeTranslate:function(e,t){$(e).length&&$("body").off("click.closeCustomer",e).on("click.closeCustomer",e,function(e){e.preventDefault(),e.stopPropagation(),$("html").removeClass(t)})},queryParams:function(){if(Shopify.queryParams={},location.search.length)for(var e,t=0,a=location.search.substr(1).split("&");t<a.length;t++)1<(e=a[t].split("=")).length&&(Shopify.queryParams[decodeURIComponent(e[0])]=decodeURIComponent(e[1]))},ajaxCreateUrl:function(e){var t=$.param(Shopify.queryParams).replace(/%2B/g,"+");return e?""!=t?e+"?"+t:e:location.pathname+"?"+t},initInfiniteScrolling:function(){hsjs.tools.waitForElement(".infinite-scrolling",function(){var e=$(".infinite-scrolling"),t=".infinite-scrolling a";e.length&&($("body").off("click.initInfiniteScrolling",t).on("click.initInfiniteScrolling",t,function(e){if(e.preventDefault(),e.stopPropagation(),!$(this).hasClass("disabled")){var t=$(this).attr("href");hsjs.ella_search.doAjaxInfiniteScrollingGetContent(t)}}),window.infinity_scroll_feature&&($('[data-section-type="collection-template"]').length||$("[data-search-page]").length)&&$(window).off("scroll.infiniteScrolling").on("scroll.infiniteScrolling",function(){if(!hsjs.ella_search.isAjaxLoading){var e=$('[data-section-type="collection-template"]');e.length||(e=$("[data-search-page]"));var a=e.offset().top+e.outerHeight()-$(window).height();if($(this).scrollTop()>a){var n=$(t);if(n.length&&!n.hasClass("disabled")){var o=n.attr("href");hsjs.ella_search.doAjaxInfiniteScrollingGetContent(o)}}}}))},3e3)},doAjaxInfiniteScrollingGetContent:function(e){var t=$(".infinite-scrolling .btn"),a=t.text();hsjs.ella_search.isAjaxLoading||$.ajax({type:"get",url:e,beforeSend:function(){t.attr("disabled",!0).addClass("disabled").text("Loading more products"),hsjs.ajax.showLoading()},success:function(e){hsjs.ella_search.ajaxInfiniteScrollingMapData(e),hsjs.lazybits.init(),$("[data-view-as]").length&&hsjs.ella_search.viewModeLayout()},error:function(e,t){$(".ajax-error-message").text(h.parseJSON(e.responseText).description),hsjs.ella_search.showModal(".ajax-error-modal")},complete:function(){hsjs.ajax.hideLoading();var e=window.inventory_text.no_more_product;window.multi_lang&&translator.isLang2()&&window.lang2.collections.genera$("body").no_more_product&&(e=window.lang2.collections.genera$("body").no_more_product),t.text()!==e?t.attr("disabled",!1).removeClass("disabled").text(a):t.attr("disabled",!1)}})},ajaxInfiniteScrollingMapData:function(e){var t=$(".collection-template").find(".product-collection"),a=$(e).hasClass("collection-template")?$(e):$(e).find(".collection-template"),n=a.find(".product-collection"),o=n.children(".grid-item").not(".banner-img"),i=$('[data-section-type="collection-template"]');i.length||(i=$("[data-search-page]"));var l=$(document.getElementById("sticky-wrapper")||document.querySelector(".header-bottom")),s=i.offset().top+i.outerHeight()-2*l.height();if(showMoreButton=$(".infinite-scrolling a"),n.length)if(t.append(o),$(".collection-template .product-collection[data-layout]").length&&(hsjs.ella_search.ellaTimeout=setTimeout(function(){t.isotope("appended",o).isotope("layout")},700)),0<$(e).find(".infinite-scrolling").length)$(document).scrollTop(s),showMoreButton.attr("href",a.find(".infinite-scrolling a").attr("href"));else{var r=window.inventory_text.no_more_product;window.multi_lang&&translator.isLang2()&&(r=window.lang2.collections.genera$("body").no_more_product),showMoreButton.html(r).addClass("disabled")}},initPaginationPage:function(){var e=".pagination-page a";$("body").off("click",e).on("click",e,function(e){e.preventDefault();var t=$(this).attr("href").match(/page=\d+/g);if(t&&(Shopify.queryParams.page=parseInt(t[0].match(/\d+/g)),Shopify.queryParams.page)){var a=hsjs.ella_search.ajaxCreateUrl();hsjs.ella_search.isSidebarAjaxClick=!0,hsjs.ella_search.doAjaxToolbarGetContent(a);var n=$('[data-section-type="collection-template"] .toolbar');n.length||(n=$("[data-search-page]"));var o=n.offset().top;$("body,html").animate({scrollTop:o},600)}})},init:function(){($("body").hasClass("template-search")||hsjs.vars&&hsjs.vars.template&&"search"==hsjs.vars.template.name)&&(hsjs.ella_search.initInfiniteScrolling(),hsjs.ella_search.initPaginationPage())}},hsjs.search_template={refresh:function(){hsjs.ella_search.init()},init:function(){hsjs.cache.site_data.theme.search_template_js_loaded=!0,hsjs.ella_search.init()}},hsjs.search_template.init();