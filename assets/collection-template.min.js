hsjs.collectionClickHandlers={showMoreFiltersHandler:function(e){e.preventDefault();var t=$(this).closest(".advanced-filters"),a=t.find(".past-fifth"),o=t.find(".more-f"),i=t.find(".less-f");a.add(o).add(i).toggleClass("hidden-filter")},attachShowMoreFiltersHandler:function(){$(document).off(".hsjsFiltersMoreLess").on("click.hsjsFiltersMoreLess",".more-f, .less-f",hsjs.collectionClickHandlers.showMoreFiltersHandler)},init:function(){this.attachShowMoreFiltersHandler()}},hsjs.ella_collection={closeTranslate:function(e,t){$(e).length&&$("body").off("click.closeCustomer",e).on("click.closeCustomer",e,function(e){e.preventDefault(),e.stopPropagation(),$("html").removeClass(t)})},initSidebarProductSlider:function(){hsjs.tools.waitForElement("[data-sidebar-product]",function(){$("[data-sidebar-product]").each(function(){var e=$(this).find(".products-grid");function t(){e.not(".slick-initialized")&&e.slick({waitForAnimate:!1,slidesToShow:1,slidesToScroll:1,infinite:!1,dots:!1,speed:800,nextArrow:'<button type="button" class="slick-next"><svg aria-hidden="true" focusable="false" role="img"><use xlink:href="#faChevronRight" xmlns:xlink="http://www.w3.org/1999/xlink"></use></svg></button>',prevArrow:'<button type="button" class="slick-prev"><svg aria-hidden="true" focusable="false" role="img"><use xlink:href="#faChevronLeft" xmlns:xlink="http://www.w3.org/1999/xlink"></use></svg></button>'})}$.fn.slick?t():hsjs.tools.waitForJSObject("$.fn.slick",function(){t()})})},3e3)},initOpenSidebar:function(){var e=".sidebar-show";$(e).length&&$("body").off("click.openSidebar").on("click.openSidebar",e,function(){$("html").addClass("sidebar-open")})},closeSidebar:function(){hsjs.ella_collection.closeTranslate(".sidebar .close-sidebar","sidebar-open")},initDropdownSubCategoriesAtSidebar:function(){$("body").off("click.toggleSubCategories").on("click.toggleSubCategories",".sidebar-links .icon-dropdown",function(e){e.preventDefault(),e.stopPropagation();var t=$(this),a=t.parent();a.hasClass("open")?(a.removeClass("open"),t.next().slideUp()):(a.addClass("open"),t.next().slideDown())})},initToggleWidgetTitleSidebarFilter:function(){$("body").off("click.toggleWidgetContent").on("click.toggleWidgetContent","[data-has-collapse] .widget-title",function(){$(this).toggleClass("open"),$(this).next().slideToggle()}),$(window).innerWidth()<1200&&$("body").off("click.toggleWidgetContent2").on("click.toggleWidgetContent2","[data-has-collapse-no-sidebar] .widget-title",function(){$(this).toggleClass("open"),$(this).next().slideToggle()})},initSidebar:function(){hsjs.ella_collection.initSidebarProductSlider(),hsjs.ella_collection.initOpenSidebar(),hsjs.ella_collection.closeSidebar(),hsjs.ella_collection.initDropdownSubCategoriesAtSidebar(),hsjs.ella_collection.initToggleWidgetTitleSidebarFilter()},queryParams:function(){if(Shopify.queryParams={},location.search.length)for(var e,t=0,a=location.search.substr(1).split("&");t<a.length;t++)1<(e=a[t].split("=")).length&&(Shopify.queryParams[decodeURIComponent(e[0])]=decodeURIComponent(e[1]))},filterAjaxClick:function(e){delete Shopify.queryParams.page;hsjs.ella_collection.ajaxCreateUrl(e);hsjs.ella_collection.isSidebarAjaxClick=!0},ajaxCreateUrl:function(e){var t=$.param(Shopify.queryParams).replace(/%2B/g,"+");return e?""!=t?e+"?"+t:e:location.pathname+"?"+t},filterToolbar:function(){hsjs.ella_collection.queryParams(),hsjs.ella_collection.setTextForSortbyFilter(),hsjs.ella_collection.ajaxFilterSortby(),hsjs.ella_collection.addEventViewModeLayout()},setTextForSortbyFilter:function(){var e=$("[data-sortby]"),t=e.find(".label-tab"),a=t.find(".label-text"),o=t.next().find("li.active").text();if(a.text(o),Shopify.queryParams.sort_by){var i=Shopify.queryParams.sort_by,l=e.find('span[data-href="'+i+'"]'),s=l.length>0?l.text():"manual";a.text(s),t.next().find("li").removeClass("active"),l.parent().addClass("active")}},ajaxFilterSortby:function(){var e="[data-sortby] li span",t=$(e);$("body").off("click.sortBy",e).on("click.sortBy",e,function(e){if(e.preventDefault(),e.stopPropagation(),!$(this).parent().hasClass("active")){Shopify.queryParams.sort_by=$(this).attr("data-href"),hsjs.ella_collection.filterAjaxClick();var a=hsjs.ella_collection.ajaxCreateUrl();hsjs.ella_collection.doAjaxToolbarGetContent(a)}t.closest(".dropdown-menu").prev().trigger("click")})},doAjaxToolbarGetContent:function(e){hsjs.ella_collection.isAjaxLoading||$.ajax({type:"get",url:e,beforeSend:function(){hsjs.ajax.showLoading()},success:function(e){hsjs.ella_collection.ajaxMapData(e),hsjs.lazybits.init(),hsjs.ella_collection.setTextForSortbyFilter(),hsjs.ella_collection.initSidebarProductSlider()},error:function(e,t){$(".ajax-error-message").text(h.parseJSON(e.responseText).description),hsjs.ella_collection.showModal(".ajax-error-modal")},complete:function(){hsjs.ajax.hideLoading()}})},filterSidebar:function(){hsjs.ella_collection.queryParams(),hsjs.ella_collection.ajaxFilterTags(),hsjs.ella_collection.ajaxFilterClearTags(),hsjs.ella_collection.ajaxFilterClearAll()},ajaxFilterTags:function(){$("body").off("click.filterTags").on("click.filterTags",".sidebar-tags .list-tags a, .sidebar-tags .list-tags label, .refined .selected-tag",function(e){e.preventDefault(),e.stopPropagation();var t=[];if(Shopify.queryParams.constraint&&(t=Shopify.queryParams.constraint.split("+")),!window.enable_sidebar_multiple_choice&&!$(this).prev().is(":checked")){var a,o,i=$(this).closest(".sidebar-tags, .refined-widgets").find("input:checked");i.length&&(a=i.val())&&0<=(o=t.indexOf(a))&&t.splice(o,1)}(a=$(this).prev().val())&&(0<=(o=t.indexOf(a))?t.splice(o,1):t.push(a)),t.length?Shopify.queryParams.constraint=t.join("+"):delete Shopify.queryParams.constraint,hsjs.ella_collection.filterAjaxClick();var l=hsjs.ella_collection.ajaxCreateUrl();hsjs.ella_collection.doAjaxSidebarGetContent(l)})},ajaxFilterClearTags:function(){$(".sidebar-tags").each(function(){var e=$(this);e.find("input:checked").length&&e.find(".clear").show().click(function(t){t.preventDefault(),t.stopPropagation();var a=[];Shopify.queryParams.constraint&&(a=Shopify.queryParams.constraint.split("+")),e.find("input:checked").each(function(){var e=$(this).val();if(e){var t=a.indexOf(e);0<=t&&a.splice(t,1)}}),a.length?Shopify.queryParams.constraint=a.join("+"):delete Shopify.queryParams.constraint,hsjs.ella_collection.filterAjaxClick();var o=hsjs.ella_collection.ajaxCreateUrl();hsjs.ella_collection.doAjaxSidebarGetContent(o)})})},ajaxFilterClearAll:function(){var e=".refined-widgets a.clear-all";$(e),$("body").off("click.clearAllTags",e).on("click.clearAllTags",e,function(e){e.preventDefault(),e.stopPropagation(),delete Shopify.queryParams.constraint,hsjs.ella_collection.filterAjaxClick();var t=hsjs.ella_collection.ajaxCreateUrl();hsjs.ella_collection.doAjaxSidebarGetContent(t)})},doAjaxSidebarGetContent:function(e){hsjs.ella_collection.isAjaxLoading||$.ajax({type:"get",url:e,beforeSend:function(){hsjs.ajax.showLoading()},success:function(e){hsjs.ella_collection.ajaxMapData(e),hsjs.lazybits.init(),hsjs.ella_collection.ajaxFilterClearTags(),hsjs.ella_collection.initSidebarProductSlider()},error:function(e,t){$(".ajax-error-message").text(h.parseJSON(e.responseText).description),hsjs.ella_collection.showModal(".ajax-error-modal")},complete:function(){hsjs.ajax.hideLoading()}})},ajaxMapData:function(e){var t=$(".collection-template"),a=t.find(".breadcrumb"),o=t.find(".sidebar"),i=t.find(".collection-header"),l=t.find(".product-collection"),s=t.find(".padding"),n=$(e).find(".collection-template"),r=n.find(".breadcrumb"),c=n.find(".sidebar"),d=n.find(".collection-header"),h=n.find(".product-collection"),f=n.find(".padding");if(a.replaceWith(r),o.replaceWith(c),$(".col-sidebar.lazybit").removeClass("lazybit-loaded").addClass("lazybit-load"),i.replaceWith(d),l.replaceWith(h),0<s.length?s.replaceWith(f):t.find(".col-main").length?t.find(".col-main").append(f):t.find(".col-no-sidebar").append(f),$("[data-view-as]").length&&hsjs.ella_collection.viewModeLayout())return!0},initInfiniteScrolling:function(){hsjs.tools.waitForElement(".infinite-scrolling",function(){var e=$(".infinite-scrolling"),t=".infinite-scrolling a";e.length&&($("body").off("click.initInfiniteScrolling",t).on("click.initInfiniteScrolling",t,function(e){if(e.preventDefault(),e.stopPropagation(),!$(this).hasClass("disabled")){var t=$(this).attr("href");hsjs.ella_collection.doAjaxInfiniteScrollingGetContent(t)}}),window.infinity_scroll_feature&&($('[data-section-type="collection-template"]').length||$("[data-search-page]").length)&&$(window).off("scroll.infiniteScrolling").on("scroll.infiniteScrolling",function(){var e=$(t),a=e.attr("href");("?page="+a.split("?page=")[1]).split("&")[0];if($(".page-divider").length>1&&$(window).off("scroll.infiniteScrolling"),!hsjs.ella_collection.isAjaxLoading){var o=$('[data-section-type="collection-template"]');o.length||(o=$("[data-search-page]"));var i=o.offset().top+o.outerHeight()-$(window).height();$(this).scrollTop()>i&&e.length&&!e.hasClass("disabled")&&hsjs.ella_collection.doAjaxInfiniteScrollingGetContent(a)}}))},3e3)},doAjaxInfiniteScrollingGetContent:function(e){var t=$(".infinite-scrolling .btn"),a=t.text(),o=e;hsjs.ella_collection.isAjaxLoading||$.ajax({type:"get",url:e,beforeSend:function(){t.attr("disabled",!0).addClass("disabled").text("Loading more products"),hsjs.ajax.showLoading()},success:function(e){hsjs.ella_collection.ajaxInfiniteScrollingMapData(e,o),hsjs.lazybits.init(),$("[data-view-as]").length&&hsjs.ella_collection.viewModeLayout()},error:function(e,t){$(".ajax-error-message").text(h.parseJSON(e.responseText).description),hsjs.ella_collection.showModal(".ajax-error-modal")},complete:function(){hsjs.ajax.hideLoading();var e=window.inventory_text.no_more_product;if(window.multi_lang&&translator.isLang2()&&window.lang2.collections.genera$("body").no_more_product&&(e=window.lang2.collections.genera$("body").no_more_product),t.text()!==e?t.attr("disabled",!1).removeClass("disabled").text(a):t.attr("disabled",!1),"product_auction"in hsjs&&"init"in hsjs.product_auction){var o=document.querySelectorAll(".wk-category-auction:empty");if(o){for(var i=o.length-1;i>=0;i--)o[i].innerHTML="";hsjs.product_auction.init()}}}})},ajaxInfiniteScrollingMapData:function(e,t){var a=$(".collection-template").find(".product-collection"),o=$(e).hasClass("collection-template")?$(e):$(e).find(".collection-template"),i=o.find(".product-collection"),l=i.children(".grid-item").not(".banner-img"),s=t.split("?page=")[1].split("&")[0],n='<div class="page-divider w-100 ajax"><hr data-page-divider=""><h3 class="text-center">'+($(".collection-title").text().length>0?$(".collection-title").text()+" - ":"")+"Page "+s+"</h3></div>",r=$('[data-section-type="collection-template"]');r.length||(r=$("[data-search-page]"));var c=$(document.getElementById("sticky-wrapper")||document.querySelector(".header-bottom")),d=r.offset().top+r.outerHeight()-2*c.height();if(showMoreButton=$(".infinite-scrolling a"),i.length)if(a.append(n),a.append(l),$(".collection-template .product-collection[data-layout]").length&&(hsjs.ella_collection.ellaTimeout=setTimeout(function(){a.isotope("appended",l).isotope("layout")},700)),0<$(e).find(".infinite-scrolling").length)$(document).scrollTop(d),showMoreButton.attr("href",o.find(".infinite-scrolling a").attr("href"));else{var h=window.inventory_text.no_more_product;window.multi_lang&&translator.isLang2()&&(h=window.lang2.collections.genera$("body").no_more_product),showMoreButton.html(h).addClass("disabled")}},addEventViewModeLayout:function(){hsjs.ella_collection.setActiveViewModeMediaQuery(),$("body").on("click",".view-mode .icon-mode",function(e){e.preventDefault();var t=$(this),a=(t.data("col"),t.closest("[data-view-as]"));t.hasClass("active")||(a.find(".icon-mode").removeClass("active"),t.addClass("active"),hsjs.ella_collection.viewModeLayout())})},viewModeLayout:function(){var e=$("[data-view-as]").find(".icon-mode.active").data("col"),t=$(".collection-template .product-collection"),a=t.find(".grid-item"),o="col-12 col-6 col-md-4 col-lg-3 col5",i="grid-2 grid-3 grid-4 grid-5 products-grid products-list";switch(e){case 1:a.hasClass("grid-item-mansory")?t.removeClass(i).addClass("products-list"):t.removeClass("products-grid").addClass("products-list"),a.removeClass(o).addClass("col-12"),a.addClass("row").find(".product-image, .product-bottom").addClass("col-6");break;default:switch(e){case 2:a.hasClass("grid-item-mansory")?t.removeClass(i).addClass("products-grid grid-2"):t.removeClass("products-list").addClass("products-grid"),a.removeClass(o).addClass("col-6"),a.removeClass("row").find(".product-image, .product-bottom").removeClass("col-6");break;case 3:a.hasClass("grid-item-mansory")?t.removeClass(i).addClass("products-grid grid-3"):t.removeClass("products-list").addClass("products-grid"),a.removeClass(o).addClass("col-6 col-md-4"),a.removeClass("row").find(".product-image, .product-bottom").removeClass("col-6");break;case 4:a.hasClass("grid-item-mansory")?t.removeClass(i).addClass("products-grid grid-4"):t.removeClass("products-list").addClass("products-grid"),a.removeClass(o).addClass("col-6 col-md-4 col-lg-3"),a.removeClass("row").find(".product-image, .product-bottom").removeClass("col-6");break;case 5:a.hasClass("grid-item-mansory")?t.removeClass(i).addClass("products-grid grid-5"):t.removeClass("products-list").addClass("products-grid"),a.removeClass(o).addClass("col-6 col-md-4 col-lg-3 col5"),a.removeClass("row").find(".product-image, .product-bottom").removeClass("col-6")}}},setActiveViewModeMediaQuery:function(){var e=$("[data-view-as]"),t=e.find(".icon-mode.active"),a=t.data("col"),o=window.innerWidth;o<768?3!==a&&4!=a&&5!=a||(t.removeClass("active"),$('[data-col="2"]').addClass("active")):o<992&&768<=o?4!=a&&5!=a||(t.removeClass("active"),$('[data-col="3"]').addClass("active")):o<1200&&992<=o&&5==a&&(t.removeClass("active"),$('[data-col="4"]').addClass("active")),e.length&&hsjs.ella_collection.viewModeLayout()},initPaginationPage:function(){var e=".pagination-page a";$("body").off("click",e).on("click",e,function(e){e.preventDefault();var t=$(this).attr("href").match(/page=\d+/g);if(t&&(Shopify.queryParams.page=parseInt(t[0].match(/\d+/g)),Shopify.queryParams.page)){var a=hsjs.ella_collection.ajaxCreateUrl();hsjs.ella_collection.isSidebarAjaxClick=!0,hsjs.ella_collection.doAjaxToolbarGetContent(a);var o=$('[data-section-type="collection-template"] .toolbar');o.length||(o=$("[data-search-page]"));var i=o.offset().top;$("body,html").animate({scrollTop:i},600)}})},toggleVariantsForExpressOrder:function(){$(document).on("click","[data-toggle-variant]",function(e){e.preventDefault(),e.stopPropagation();var t=$(this),a=t.data("target");t.hasClass("show-options-btn")?(t.text(window.inventory_text.hide_options),$(a).slideDown(700,function(){t.addClass("hide-options-btn").removeClass("show-options-btn")})):(t.text(window.inventory_text.show_options),$(a).slideUp(700,function(){t.addClass("show-options-btn").removeClass("hide-options-btn")}))})},initExpressOrderAddToCart:function(){var e="[data-express-addtocart]";$(document).off("click.addToCartExpress",e).on("click.addToCartExpress",e,function(e){e.preventDefault();var t=$(this);if("disabled"!=t.attr("disabled")){var a=t.closest(".product-item");0==a.length&&(a=t.closest(".col-options"));var o=a.find("form"),i=o.find("select[name=id]").val();i||(i=o.find("input[name=id]").val());var l=a.find("input[name=quantity]");0==l.length&&(l=a.siblings(".col-qtt").find("input[name=quantity]"));var s=l.val();s||(s=1),0!==parseInt(s)?"none"==window.ajax_cart?o.submit():(hsjs.ella_collection.expressAjaxAddToCart(i,s,t,o),o.next(".feedback-text").show()):o.next(".feedback-text").text("Quantity cannot be blank").show()}return!1})},init:function(){($("body").hasClass("template-collection")||$("body").hasClass("template-search")||hsjs.vars&&hsjs.vars.template&&("collection"==hsjs.vars.template.name||"search"==hsjs.vars.template.name))&&(hsjs.ella_collection.initInfiniteScrolling(),hsjs.ella_collection.initPaginationPage()),($("body").hasClass("template-collection")||hsjs.vars&&hsjs.vars.template&&"collection"==hsjs.vars.template.name)&&(hsjs.ella_collection.filterToolbar(),hsjs.ella_collection.filterSidebar()),hsjs.ella_collection.initSidebar(),$(window).on("resize",function(){hsjs.ella_collection.setActiveViewModeMediaQuery()})}},hsjs.collection_template={refresh:function(){hsjs.collectionClickHandlers.init(),hsjs.ella_collection.init()},init:function(){hsjs.cache.site_data.theme.collection_template_js_loaded=!0,hsjs.collectionClickHandlers.init(),hsjs.ella_collection.init()}},hsjs.collection_template.init();