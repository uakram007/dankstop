hsjs.tools.htmlEntities=function(t){return String(t).replace(/[!"#$%&'()*+,.\/:;<=>?@[\\\]^`{|}~]/g,"\\$&")},hsjs.fancybox={styleSrc:"//cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css",scriptSrc:"//cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js",jqueryZoomSrc:"//cdnjs.cloudflare.com/ajax/libs/jquery-zoom/1.7.21/jquery.zoom.min.js",fancybox_js_loaded:!1,fancybox_css_loaded:!1,jquery_zoom_loaded:!1,customSrc:hsjs.cache.site_data.theme.fancybox_src,toggleClass:"open-fancybox",attachFancyboxHandler:function(){$("."+hsjs.fancybox.toggleClass).on("click",function(){var t=$(".product-photo-container .thumb img:not(.zoomImg)").map(function(t,e){return{src:e.dataset.src||e.src,opts:{caption:e.alt}}}),e=$(".slider-for").slick("slickCurrentSlide")||$(".slick-current.slick-active").index();$.fancybox.open(t,{type:"image",index:e,loop:"true"})})},initZoom:function(){hsjs.tools.waitForElement(".product-img-box [data-zoom]",function(){var t=$(".product-img-box [data-zoom]");1200<=$(window).width()?t.zoom():t.trigger("zoom.destroy")},3700)},onloadCallback:function(){hsjs.tools.waitForJSObject("$fancybox",function(){hsjs.fancybox.fancybox_css_loaded=!0,hsjs.fancybox.fancybox_js_loaded=!0,$.fancybox.defaults.hash=!1,hsjs.fancybox.attachFancyboxHandler()},7e3),hsjs.tools.waitForJSObject("$zoom",function(){hsjs.fancybox.jquery_zoom_loaded=!0,hsjs.fancybox.initZoom()},7e3)},load:function(){hsjs.fancybox.fancybox_css_loaded||hsjs.tools.downloadCSS(hsjs.fancybox.styleSrc),hsjs.fancybox.jquery_zoom_loaded||hsjs.tools.downloadJS(hsjs.fancybox.jqueryZoomSrc),hsjs.fancybox.fancybox_js_loaded?(hsjs.fancybox.attachFancyboxHandler(),hsjs.fancybox.initZoom()):hsjs.tools.downloadJS(hsjs.fancybox.scriptSrc,hsjs.fancybox.onloadCallback)},init:function(){hsjs.fancybox.load()}},hsjs.norton={validate:function(){if(window._GUARANTEE&&_GUARANTEE.Loaded){function t(){hsjs.tools.isMobile()?_GUARANTEE.InsertKickers=[{loc:"After",anchorTagName:"DIV",anchorID:"",anchorClass:"cart-total-checkout",path:[],kickerType:"Kicker Custom 3",kickerStyle:"",containerTagName:"DIV",containerStyle:"text-align:center;"}]:_GUARANTEE.InsertKickers=[{loc:"After",anchorTagName:"DIV",anchorID:"",anchorClass:"cart-total-checkout",path:[],kickerType:"Kicker Custom 5",kickerStyle:"",containerTagName:"DIV",containerStyle:"text-align:center;"}],_GUARANTEE.WriteKickers()}if(_GUARANTEE.Hash="K%2B9EollA163nwr%2FWWNOur5k0iuJ3oEv0MowkI51QQWWmTrHm1HGfnCPgkjippiSGetep%2FTY0dzay1rWC9kFiAw%3D%3D",_GUARANTEE.WriteSeal("_GUARANTEE_SealSpan","GuaranteedSeal"),_GUARANTEE.InsertKickers=[{loc:"After",anchorTagName:"DIV",anchorID:"nortonPlacer",anchorClass:"",path:[],kickerType:"Kicker Custom 3",kickerStyle:"margin:0 0 10px 0;",containerTagName:"",containerStyle:""}],_GUARANTEE.WriteKickers(),hsjs.flags.cartAjaxOpened){0===$("form[action='/cart'] [id*='Kicker']").length&&function e(){$(".cart-total-checkout").length?t():setTimeout(function(){e()},173)}()}else hsjs.cache.$document.one("cartAjaxOpened",function(){!function e(){$(".cart-total-checkout").length&&0===$("form[action='/cart'] [id*='Kicker']").length?t():setTimeout(function(){e()},173)}()})}else setTimeout(function(){hsjs.norton.validate()},173)},load:function(){var t=[window.location.protocol+"//nsg.symantec.com/Web/Seal/AltSealInfo.aspx?S=Large&T=M&Elem=ImgTagSeal&HASH=K%2B9EollA163nwr%2FWWNOur5k0iuJ3oEv0MowkI51QQWWmTrHm1HGfnCPgkjippiSGetep%2FTY0dzay1rWC9kFiAw%3D%3D&CBF=AB&AB=1&DP=fn=;src=ImgTagSeal;grt=true"],e=new Image;e.src=t,e.className="hidden",hsjs.cache.$body.append(e);var o=[window.location.protocol+"//nsg.symantec.com/Web/Seal/gjs.aspx?SN=960652208"];hsjs.tools.downloadJS(o),hsjs.norton.validate()},init:function(){hsjs.vars&&hsjs.vars.norton&&"true"==hsjs.vars.norton.enable&&hsjs.vars.template&&"product"==hsjs.vars.template.name&&hsjs.norton.load()}},hsjs.boldRo={commonScriptsLoaded:!1,notProductPageTimeout:!1,commonScripts:window.location.origin+"?view=bold-ro",productScripts:function(){return window.location.pathname+"?view=bold-ro"},customUi:function(){hsjs.tools.waitForElement(".bold-ro__frequency-type.bold-ro__order-interval",function(){var t=$(".bold-ro__order-interval-container"),e="custom-active-bold-selector";t.find(".custom-bold-selectors").remove();var o=$(".bold-ro__frequency-num");o.hide();var a=$("<div class='custom-bold-freq-num-selectors custom-bold-selectors'>");t.append(a),o.find("option").each(function(t,s){var n=$("<div class='custom-bold-freq-num-btn custom-bold-btn' data-freq-num='"+s.value+"'>");n.text(s.value),o.val()==s.dataset.frequencyNum&&n.addClass(e),a.append(n)});var s=$(".custom-bold-freq-num-btn");s.off("click.customBoldNumSelectors").on("click.customBoldNumSelectors",function(){var t=this.dataset.freqNum;o.val(t),s.removeClass(e),$(this).addClass(e)});var n=$(".bold-ro__frequency-type.bold-ro__order-interval");n.hide();var i=$("<div class='custom-bold-freq-type-selectors custom-bold-selectors'>");t.append(i),n.find("option").each(function(t,o){var a=$("<div class='custom-bold-freq-type-btn custom-bold-btn' data-freq-type='"+o.value+"'>");a.text(o.dataset.frequencyTypeText),n.val()==o.dataset.frequencyType&&a.addClass(e),i.append(a)});var r=$(".custom-bold-freq-type-btn");r.off("click.customBoldTypeSelectors").on("click.customBoldTypeSelectors",function(){var t=this.dataset.freqType;n.val(t),r.removeClass(e),$(this).addClass(e)});$(".bold-ro__prepaid-total-recurrences");var c=$(".bold-ro__prepaid-length-select");c.hide();var l=$("<div class='custom-bold-prepaid-length-selectors custom-bold-selectors'>");c.find("option").each(function(t,o){var a=$("<div class='custom-bold-prepaid-length-btn custom-bold-btn' data-bold-value='"+o.value+"' data-prepaid-length='"+o.dataset.length+"'>");a.text(o.dataset.length),c.val()==o.value&&a.addClass(e),l.append(a)}),$(".bold-ro__prepaid-length").remove(".custom-bold-selectors").append(l);var d=$(".custom-bold-prepaid-length-btn");d.off("click.customBoldPrepaidLengthSelectors").on("click.customBoldPrepaidLengthSelectors",function(){var t=this.dataset.boldValue;if(c.val(t),d.removeClass(e),$(this).addClass(e),"createEvent"in document){var o=document.createEvent("HTMLEvents");o.initEvent("change",!1,!0),c[0].dispatchEvent(o)}else c[0].fireEvent("onchange")}),"0"==$("[name=bold-ro__selector_radio_button]:checked").val()?$(".product .product-shop").removeClass("bold-subscribe").addClass("bold-buy"):"1"==$("[name=bold-ro__selector_radio_button]:checked").val()&&$(".product .product-shop").removeClass("bold-buy").addClass("bold-subscribe"),$("[name=bold-ro__selector_radio_button]").on("click",function(){"0"==$(this).val()?$(".product .product-shop").removeClass("bold-subscribe").addClass("bold-buy"):"1"==$(this).val()&&$(".product .product-shop").removeClass("bold-buy").addClass("bold-subscribe")})},15e3)},prepaidFix:function(){$(".bold-ro__prepaid-checkbox-lbl").off(".BoldPrepaidClick").on("click.BoldPrepaidClick",function(){$(".bold-ro__prepaid-checkbox").trigger("click")}),$(".bold-ro__prepaid-gift-lbl").off(".BoldPrepaidClick").on("click.BoldPrepaidClick",function(){$(".bold-ro__prepaid-gift-checkbox").trigger("click")})},onWidgetLoaded:function(){BOLD.common.eventEmitter.off("BOLD_RECURRING_ORDERS_widget_loaded").on("BOLD_RECURRING_ORDERS_widget_loaded",function(t){hsjs.boldRo.prepaidFix()})},reboot:function(){hsjs.tools.ajaxCall(hsjs.boldRo.productScripts(),function(t){hsjs.tools.attachToBody(t,function(){hsjs.tools.waitForJSObject("BOLD.recurring_orders.app.reboot",function(){try{BOLD.recurring_orders.app.reboot()}catch(t){}finally{hsjs.boldRo.customUi(),hsjs.boldRo.onWidgetLoaded()}},5e3)})})},reload:function(){clearTimeout(this.checkerTimeout),clearTimeout(this.notProductPageTimeout),hsjs.boldRo.commonScriptsLoaded?hsjs.boldRo.reboot():hsjs.boldRo.load("all")},checker:function(){this.checkerTimeout=setTimeout(function(){$(".product_top .ro_widget").length>0&&$(".product_top .ro_widget:empty").length>0&&hsjs.boldRo.reload()},5e3)},load:function(t){hsjs.tools.ajaxCall(hsjs.boldRo.commonScripts,function(e){hsjs.tools.attachToBody(e,function(){hsjs.boldRo.commonScriptsLoaded=!0,"product"==t&&(hsjs.boldRo.reboot(),hsjs.boldRo.checker())})})},init:function(){"product"!=hsjs.urlTemplate(window.location.href)?this.notProductPageTimeout=setTimeout(function(){hsjs.boldRo.load("all")},1713):(clearTimeout(this.notProductPageTimeout),this.load("product"))}},hsjs.watchlist={template:(t,e,o)=>`\n    <div id="inStockNotify" class="in-stock-notify">\n      <div class="isn--inner grid">\n        <div class="isn--title grid-item">\n          <div class="not-in-watchlist-msg">\n            <p class="h3">\n              Want to be notified when this ${t} is restocked?\n            </p>\n            <p>Sign up for a spam-free, back in stock notification below.  We'll send you an email or a text when it's back in stock.</p>\n          </div>\n          <div class="in-watchlist-msg">\n            <p class="h3">\n              You will be notified when this ${t} is restocked\n            </p>\n            <p>You are already signed up for a spam-free, back in stock notification.  We'll send you an email or a text when it's back in stock.</p>\n          </div>\n        </div>\n        <div class="settings-msg grid-item">\n          <p><small>You can change your phone and email at <a href="https://dankstop.com/account?view=watchlist#settings" target="_blank" rel="noopener">Watchlist Settings</a>.</small></p>\n        </div>\n        <div class="isn--form grid-item" id="inStockNotifyForm">\n          <div class="grid">\n            <div class="grid-item large--one-whole">\n\t\t\t  <p>\n                <span class="watchlist-toggle add-to-watchlist btn" data-producthandle="${e}" data-variantid="${o}">\n                  <svg width="100%" height="100%"><use xlink:href="#watchlistEye" xmlns:xlink="http://www.w3.org/1999/xlink"></use></svg> \n                  <span class="btn-text">Add To Watchlist</span>\n                </span>\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  `,contact_template:t=>`\n    <div class="isn--contact email-sec grid-item large--three-sixths text-right medium-down--text-center">\n      <p>\n        <label for="isn-email">\n          <span>By Email&nbsp;</span>\n        </label>\n        <input type="email" name="email" id="isn-email" value="${t}" placeholder="your@email.com">\n      </p>\n    </div><div class="or-sec grid-item large--one-sixth">\n      <p>- and /&nbsp;or -</p>\n    </div><div class="isn--contact phone-sec grid-item large--two-sixths text-left medium-down--text-center">\n      <p>\n        <label for="isn-phone">\n          <span>Via Text&nbsp;</span>\n        </label>\n        <input type="number" pattern="[0-9]" name="phone" id="isn-phone" value="" placeholder="Numbers only, ex. 1234567890">\n      </p>\n    </div><div class="promo-sec grid-item large--one-whole">\n      <p><label><input type="checkbox" name="promo-signup">Also subscribe to the email mailing list for exclusive deals &amp; discounts</label></p>\n    </div>\n  `,login_template:t=>`\n    <div id="inStockNotify" class="in-stock-notify">\n      <div class="isn--inner grid">\n        <div class="isn--title grid-item">\n          <div class="not-in-watchlist-msg">\n            <p class="h3">\n              Want to be notified when this ${t} is restocked?\n            </p>\n            <p>Sign up for a spam-free, back in stock notification below.  We'll send you an email or a text when it's back in stock.</p>\n          </div>\n          <div>\n            <p>Please log in or create an account to use the watchlist</p>\n            <a href="/account/login" class="btn" rel="nofollow">Sign in</a>\n          </div>\n       </div>\n      </div>\n    </div>\n  `,validatePhoneNum:function(t){var e=t.replace(/\D/g,"");return/^[2-9]\d{2}[2-9]\d{2}\d{4}$/.test(e)},validateEmail:function(t){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)},refreshCustomerWatchlist:function(){hsjs.vars.customer.logged_in&&hsjs.tools.ajaxCall("https://dankstop.com/account?view=watchlist-json",function(t){var e=JSON.parse(t).customer_watchlist;hsjs.vars.customer.watchlist.products=e.products,hsjs.vars.customer.watchlist.email=e.email,hsjs.vars.customer.watchlist.phone=e.phone})},clickHandler:function(){var t=$(this),e=t.data("producthandle"),o=t.data("variantid"),a=$(".isn-email-label"),s=$("#isn-email"),n=s.val();if(""!=n&&!hsjs.watchlist.validateEmail(n))return a.addClass("text-danger"),void s.addClass("form-control is-invalid").focus();a.removeClass("text-danger"),s.removeClass("form-control is-invalid");var i=$(".isn-phone-label"),r=$("#isn-phone"),c=r.val();if(""!=c&&!hsjs.watchlist.validatePhoneNum(c))return i.addClass("text-danger"),void r.addClass("form-control is-invalid").focus();i.removeClass("text-danger"),i.removeClass("form-control is-invalid");var l=hsjs.vars&&hsjs.vars.customer&&hsjs.vars.customer.id&&hsjs.vars.customer.id.length>0&&"Not Logged In"!==hsjs.vars.customer.id?hsjs.vars.customer.id:n||c,d=$("input[name=promo-signup]").prop("checked"),p=t.find(".btn-text"),h={watchlistAction:t.hasClass("in-watchlist")?"removeFromWatchlist":"addToWatchlist",customer_id:l,product_handle:e,variant_id:o};n&&""!=n&&(h.email=n),c&&""!=c&&(h.phone=c),d&&(h.promo=d),$.ajax({url:hsjs.watchlist.endpointUrl,type:"POST",dataType:"json",data:h,success:function(e){n&&""!=n&&c&&""!=c&&$(".email-sec, .or-sec, .phone-sec").remove(),d&&$(".promo-sec").remove(),t.hasClass("in-watchlist")?(t.removeClass("in-watchlist btn-danger"),t.parents("#inStockNotify").removeClass("in-watchlist"),p.text(hsjs.watchlist.add_text)):(t.addClass("in-watchlist btn-danger"),t.parents("#inStockNotify").addClass("in-watchlist"),p.text(hsjs.watchlist.remove_text)),hsjs.watchlist.refreshCustomerWatchlist()},error:function(t){console.log("ajax error",t)}})},updateSettingsHandler:function(){hsjs.cache.$document.on("click","#updateWatchlist",function(){var t=""!=$("#isnEmail").val()?$("#isnEmail").val():"false",e=""!=$("#isnPhone").val()?$("#isnPhone").val():"false",o=$("#client_shop").val(),a={watchlistAction:"true",customer_id:hsjs.vars.customer.id.length>0&&"Not Logged In"!==hsjs.vars.customer.id?hsjs.vars.customer.id:null,shop:o,email:t,phone:e};$.ajax({url:hsjs.watchlist.settingsUrl,type:"POST",dataType:"json",data:a,success:function(t){console.log(t)},error:function(t,e,o){console.log("ajax error ",t)}})})},attachHandler:function(){hsjs.cache.$document.on("click."+this.$toggleSelector,this.$toggleSelector,this.clickHandler),hsjs.watchlist.updateSettingsHandler()},init:function(){this.endpointUrl="//portal.dankstop.com/public/product-watchlist/watchlist.php",this.settingsUrl="//portal.dankstop.com/public/product-watchlist/watchlist-actions.php",this.add_text="Add To Watchlist",this.remove_text="Remove From Watchlist",this.$toggleSelector=".watchlist-toggle",this.attachHandler()}},hsjs.productWarranty={getProductVariantIdToWarranty:function(){return $("#product-selectors").val()},getVariantToWarrantyPrice:function(){return!0},s4:function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},guid:function(){return this.s4()+this.s4()+"-"+this.s4()+"-"+this.s4()+"-"+this.s4()+"-"+this.s4()+this.s4()+this.s4()},submitProduct:function(){console.log("Warranty Plan added for "+this.getProductVariantIdToWarranty())},addWarranty:function(t,e,o,a,s){$.ajax({type:"POST",url:"/cart/add.js",data:{quantity:Math.ceil(t*this.warrantyDecimalPercentage),id:this.warrantyMainVariantId,properties:{_item_id:e,_item_name:o,_policy_id:this.guid(),_bundle_addon:a}},dataType:"json",success:function(t){hsjs.productWarranty.submitProduct(),hsjs.tools.runCallback(s)},error:function(t,e,o){console.log(t.responseText),hsjs.tools.runCallback(s)}})},attachClickEvent:function(t,e,o){$("#addWarranty").one("click",function(t){t.preventDefault(),this.addWarranty(this.getProductVariantIdToWarranty(),e,o)})},warrantyEligible:function(t){return hsjs.tools.isThisInArray(t,hsjs.productWarranty.warrantyEligibleBrands)&&(hsjs.productWarranty.warrantyProductText="<p class='warranty-eligible' title='Eligible for PieceProtect Protection Plan'><span class='product-warranty-icon'></span> <strong class='green'>PieceProtect</strong> Eligible</p>"),!0},cacheWarrantyVars:function(){this.warrantyEnabled=hsjs.cache.site_data.theme.warranty_enabled,this.warrantyProductHandle=hsjs.cache.site_data.theme.warranty_product_handle,this.warrantyProductId=hsjs.cache.site_data.theme.warranty_product_id,this.warrantyMainVariantId=hsjs.cache.site_data.theme.warranty_main_variant_id,this.warrantyDecimalPercentage=hsjs.cache.site_data.theme.warranty_decimal_percentage,this.warrantyEligibleBrands=hsjs.cache.site_data.theme.warranty_eligible_brands,this.warrantyProductText=hsjs.cache.site_data.theme.warranty_product_text},init:function(){}},void 0===hsjs.Shopify&&(hsjs.Shopify=window.Shopify||{}),hsjs.Shopify.onError=function(XMLHttpRequest,textStatus){var data=eval("("+XMLHttpRequest.responseText+")");data.message?alert(data.message+"("+data.status+"): "+data.description):alert("Error : "+hsjs.Shopify.fullMessagesFromErrors(data).join("; ")+".")},hsjs.Shopify.addItemJSON=function(t,e){var o={type:"POST",url:"/cart/add.js",data:t,dataType:"json",success:function(t){"function"==typeof e?e(t):hsjs.Shopify.onItemAdded(t)},error:function(t,e){hsjs.Shopify.onError(t,e)}};jQuery.ajax(o)},hsjs.Shopify.addItemFromForm=function(t,e,o){-1===t.indexOf("#")&&(t="#"+t);var a={type:"POST",url:"/cart/add.js",data:jQuery(t).serialize(),dataType:"json",success:function(o){"function"==typeof e?e(o,t):hsjs.Shopify.onItemAdded(o,t)},error:function(t,e){"function"==typeof o?o(t,e):hsjs.Shopify.onError(t,e)}};jQuery.ajax(a)},hsjs.Shopify.removeItemByLineNumber=function(t,e){var o={type:"POST",url:"/cart/change.js",data:"quantity=0&line="+t,dataType:"json",success:function(t){"function"==typeof e?e(t):hsjs.Shopify.onCartUpdate(t)},error:function(t,e){hsjs.Shopify.onError(t,e)}};jQuery.ajax(o)},hsjs.buyNowBtn={clickHandler:function(t){t.preventDefault();return!0===confirm("You must be over 21 years of age or older to checkout.\n\nPress OK to confirm you are over the age of 21.\n\nWe probit sales to minors and orders may be subject to fraud check.")&&hsjs.Shopify.addItemFromForm("add-to-cart-form",function(){$("#toCheckout").trigger("click")}),!1},attachClickHandler:function(){$("#buyNowBtn").off("click.buyNowBtn").on("click.buyNowBtn",function(t){hsjs.buyNowBtn.clickHandler(t)})},init:function(){"product"==hsjs.vars.template.name&&this.attachClickHandler()}},hsjs.masonry={delayedInit:function(){setTimeout(function(){hsjs.tools.waitForJSObject("Masonry",function(){$(".masonry-section").masonry({itemSelector:".masonry-item"})})},1e3)},init:function(){hsjs.tools.waitForJSObject("Masonry",function(){$(".masonry-section").masonry({itemSelector:".masonry-item"})})}},hsjs.accordion={init:function(){$(".feature-terms").length?(hsjs.tools.downloadJS("https://code.jquery.com/ui/1.10.4/jquery-ui.js"),hsjs.tools.waitForJSObject("$accordion",function(){$(".feature-terms").accordion({autoHeight:!1,heightStyle:"content",header:"dt",create:function(t,e){hsjs.masonry.delayedInit()}})})):hsjs.masonry.delayedInit()}},hsjs.ella_product_inline={next_prev_product:function(){if($(".next-prev-product").length){var t=$(".next-prev-product"),e=t.find("[data-next-prev-icon]"),o=t.find("[data-next-prev-content]"),a=t.find("[data-next-prev-modal]");"ontouchstart"in document?e.off("click").on("click",function(t){t.preventDefault(),t.stopPropagation();var s=$(this),n=$(s.data("target"));$(this).hasClass("active")?(s.removeClass("active"),n.removeClass("active"),a.hide()):(e.removeClass("active"),o.removeClass("active"),s.addClass("active"),n.addClass("active"),a.show())}):e.hover(function(){var s=$(this),n=$(s.data("target"));$(this).hasClass("active")||(e.removeClass("active"),o.removeClass("active"),s.addClass("active"),n.addClass("active"),a.show()),t.mouseleave(function(){a.is(":visible")&&(e.removeClass("active"),o.removeClass("active"),a.hide())})}),$(document).off("click.nextPrevProduct").on("click.nextPrevProduct",function(t){!$(t.target).closest("[data-next-prev-modal]").length&&a.is(":visible")&&(e.removeClass("active"),o.removeClass("active"),a.hide())}),$(".next-prev-content .product-image .lazyload").addClass("lazypreload")}},linked_options:function(){var t=window.Shopify||{};t.arrayIncludes=function(t,e){for(var o=0;o<t.length;o++)if(t[o]==e)return!0;return!1},t.uniq=function(e){for(var o=[],a=0;a<e.length;a++)t.arrayIncludes(o,e[a])||o.push(e[a]);return o},t.productOptionsMap={},t.quickViewOptionsMap={},t.updateOptionsInSelector=function(e,o){switch(t.optionsMap=".product-shop"===o?t.productOptionsMap:t.quickViewOptionsMap,e){case 0:var a="root",s=$(o+" .single-option-selector:eq(0)");break;case 1:a=$(o+" .single-option-selector:eq(0)").val(),s=$(o+" .single-option-selector:eq(1)");break;case 2:a=$(o+" .single-option-selector:eq(0)").val();a+=" / "+$(o+" .single-option-selector:eq(1)").val();s=$(o+" .single-option-selector:eq(2)")}var n=s.val();s.empty();var i=t.optionsMap[a];if(i&&i.length){for(var r=0;r<i.length;r++){var c=i[r],l=$("<option></option>").val(c).html(c);s.append(l)}$(o+' .swatch[data-option-index="'+e+'"] .swatch-element').each(function(){-1!==$.inArray($(this).attr("data-value"),i)?$(this).removeClass("soldout").find(":radio").removeAttr("disabled","disabled").removeAttr("checked"):$(this).addClass("soldout").find(":radio").removeAttr("checked").attr("disabled","disabled")}),-1!==$.inArray(n,i)&&s.val(n),s.trigger("change")}},t.linkOptionSelectors=function(e,o){t.optionsMap=".product-shop"===o?t.productOptionsMap:t.quickViewOptionsMap;for(var a=0;a<e.variants.length;a++){var s=e.variants[a];if(s.available){if(t.optionsMap.root=t.optionsMap.root||[],t.optionsMap.root.push(s.option1),t.optionsMap.root=t.uniq(t.optionsMap.root),e.options.length>1){var n=s.option1;t.optionsMap[n]=t.optionsMap[n]||[],t.optionsMap[n].push(s.option2),t.optionsMap[n]=t.uniq(t.optionsMap[n])}if(3===e.options.length){n=s.option1+" / "+s.option2;t.optionsMap[n]=t.optionsMap[n]||[],t.optionsMap[n].push(s.option3),t.optionsMap[n]=t.uniq(t.optionsMap[n])}}}t.updateOptionsInSelector(0,o),e.options.length>1&&t.updateOptionsInSelector(1,o),3===e.options.length&&t.updateOptionsInSelector(2,o),$(o+" .single-option-selector:eq(0)").change(function(){return t.updateOptionsInSelector(1,o),3===e.options.length&&t.updateOptionsInSelector(2,o),!0}),$(o+" .single-option-selector:eq(1)").change(function(){return 3===e.options.length&&t.updateOptionsInSelector(2,o),!0})}},updatePricing:function(){var t=/([0-9]+[.|,][0-9]+[.|,][0-9]+)/g,e=$(".product-shop .price").text().match(t);if(e||(t=/([0-9]+[.|,][0-9]+)/g,e=$(".product-shop .price").text().match(t)),e){var o=e[0],a=o.replace(/[.|,]/g,"")*parseInt($("[data-qtt-id]").val()),s=$(".ao-line"),n=0;if(s.each(function(){if($(this).find(".attachment-checkbox").prop("checked")){var t=0;isNaN($(this).find(".ao-price > span").text())||(t=100*parseFloat($(this).find(".ao-price > span").text())),n+=t}}),$("#addWarrantyPlan").prop("checked")){var i=0,r=$(".warranty-program .warranty-price").text().replace("$","");isNaN(r)||(i=100*parseFloat(r)),n+=i}var c=a+n,l=Shopify.formatMoney(c,window.money_format);t=/([0-9]+[.|,][0-9]+[.|,][0-9]+)/g,l.match(t)||(t=/([0-9]+[.|,][0-9]+)/g),l=l.match(t)[0];var d=new RegExp(o,"g"),p=$(".product-shop .price").html().replace(d,l);$(".product-shop .total-price span").html(p)}},selectCallback:function(t,e){Shopify.variantSelected=t,hsjs.variantSelected=t;var o=$("#product-add-to-cart"),a=$(".product-shop .price"),s=$(".product-shop .compare-price"),n=$(".product-inventory"),i=$(".product-shop .sku-product"),r=$("#variantSku"),c=$(".product-photos .sale-label");if(t){r.text(t.sku),t.available?o.removeClass("disabled").removeAttr("disabled").val(window.inventory_text.add_to_cart):o.val(window.inventory_text.sold_out).addClass("disabled").attr("disabled","disabled");var l=Shopify.formatMoney(t.price,window.money_format);a.html(l),t.compare_at_price>t.price?(a.addClass("on-sale"),s.html(Shopify.formatMoney(t.compare_at_price,window.money_format)).show(),c.show()):(s.hide(),a.removeClass("on-sale"),c.hide()),hsjs.ajaxSiteNav.pageType.product.settings.displaySubtotal&&hsjs.product.available&&hsjs.ella_product_inline.updatePricing(),function(t){var e=$(".pay-plan-price");if(!(e.length<1)){e.attr("data-product-price",t);var o=(t.replace("$","").replace(",","").replace(" USD","").trim().split(" ")[0]/4).toFixed(2);e.find(".vb-price").html(o)}}(l),"true"===hsjs.ajaxSiteNav.pageType.product.settings.enableMultipleCurrencies&&Currency.convertAll(window.shop_currency,$("#currencies .active").attr("data-currency"),"span.money","money_format"),hsjs.ajaxSiteNav.pageType.product.settings.displayAvailability&&(t.available?null!=t.inventory_management?n.find("span").text(window.inventory_text.in_stock):n.find("span").text(window.inventory_text.many_in_stock):n.find("span").text(window.inventory_text.out_of_stock));for(var d=$("#"+e.domIdPrefix).closest("form"),p=0,h=t.options.length;p<h;p++){var u=".swatch[data-option-index='"+p+"'] :radio[value='"+hsjs.tools.htmlEntities(t.options[p])+"']",m=d.find(u);m.length&&(m.get(0).checked=!0)}}else o.val(window.inventory_text.sold_out).addClass("disabled").attr("disabled","disabled");if(t?i.find("span").text(t.sku):i.find("span").empty(),hsjs.vars.userInteracted&&t&&t.featured_image){var f=t.title,v=$(".slider-for .slick-slide[data-variants*='"+f+"']"),y=v.attr("data-slick-index");v&&y&&$(".slider-for").slick("slickGoTo",parseInt(y))}},qty_selectors:function(t){t.preventDefault(),t.stopPropagation();var e=$(this),o=$('.quantity input[name="quantity"]'),a=parseInt(o.val()),s=1;switch(!0){case e.hasClass("plus"):s=a+1;break;case e.hasClass("minus")&&a>1:s=a-1}o.val(s),hsjs.ella_product_inline.updatePricing()},product_page_main:function(){if($(".product-template").length){var t=$("[data-qtt-id]"),e=$(".ao-line .attachment-checkbox"),o=$("#addWarrantyPlan");t.add(e).add(o).off("change.updatePricing").on("change.updatePricing",hsjs.ella_product_inline.updatePricing);var a="[data-minus-qtt], [data-plus-qtt]";$(a);$(document).off("click.qttMinusPlus",a).on("click.qttMinusPlus",a,hsjs.ella_product_inline.qty_selectors),$(function(t){hsjs.product.available&&new Shopify.OptionSelectors("product-selectors",{product:hsjs.product,onVariantSelected:hsjs.ella_product_inline.selectCallback,enableHistoryState:!1}),Shopify.linkOptionSelectors(hsjs.product,".product-shop"),1==hsjs.product.options.length&&"Title"!=hsjs.product.options[0]?t(".selector-wrapper:eq(0)").prepend("<label>"+hsjs.product.options[0]+"</label>"):hsjs.product.options.length>1&&t(".selector-wrapper").append('<span class="icon-dropdown"><i class="fa fa-angle-down"></i></span>'),t(".product-shop .selector-wrapper label").append("<em>*</em>"),1==hsjs.product.variants.length&&"Title"!=hsjs.product.variants[0]&&t(".selector-wrapper").hide()})}},init:function(){hsjs.ajaxSiteNav.pageType.product.settings.displaySubtotal=hsjs.product_page_settings.display_subtotal,hsjs.ajaxSiteNav.pageType.product.settings.displayAvailability=hsjs.product_page_settings.display_availability,hsjs.ajaxSiteNav.pageType.product.settings.displayProductSku=hsjs.product_page_settings.display_product_sku,hsjs.ella_product_inline.linked_options(),hsjs.ella_product_inline.next_prev_product(),hsjs.ella_product_inline.product_page_main()}},hsjs.product_template={refresh:function(){hsjs.ella_product_inline.next_prev_product(),hsjs.ella_product_inline.product_page_main(),hsjs.boldRo.reload(),hsjs.fancybox.init(),hsjs.buyNowBtn.init(),hsjs.productWarranty.init(),hsjs.watchlist.init(),hsjs.tools.waitForElement(hsjs.reviews.elementToWaitFor,hsjs.reviews.refreshWidgets,hsjs.ajaxSiteNav.settings.timeToWait),hsjs.accordion.init(),hsjs.loginRedirect()},init:function(){hsjs.cache.site_data.theme.product_template_js_loaded=!0,hsjs.ella_product_inline.init(),hsjs.boldRo.init(),hsjs.fancybox.init(),hsjs.buyNowBtn.init(),hsjs.productWarranty.init(),hsjs.watchlist.init(),hsjs.norton.init(),hsjs.accordion.init()}},hsjs.product_template.init();